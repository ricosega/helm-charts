# microservice

![Version: 0.1.3](https://img.shields.io/badge/Version-0.1.3-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square)

A Helm chart for Kubernetes microservices. +Istio features

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| args | list | `[]` | Args for the pod |
| autoscaling | object | `{"enabled":false,"maxReplicas":4,"minReplicas":2,"targetCPUUtilizationPercentage":80,"targetMemoryUtilizationPercentage":80}` | Enable horizontal pod autoscaling |
| command | list | `[]` | Command to add to the pod (entrypoint) |
| configmaps | list | `[]` | Configmaps for the microservice. |
| cronjobs | list | `[]` |  |
| destinationRules | list | `[]` | Istio DestinationRules. |
| dockerConfigJson | object | `{"email":"admin@admin","enabled":false,"password":"admin","registry":"docker.io","username":"admin"}` | Generates a Secret type dockerconfigjson (needed if the docker images are stored in a protected registry) |
| env | list | `[]` | Variables to attach to the microservice |
| fullnameOverride | string | `nil` | Here set the repo or microservice name. |
| global | object | `{"env":[]}` | Following fields will apply to deployments, jobs and cronjobs |
| global.env | list | `[]` | Extra environment variables for pods |
| image | object | `{"imagePullSecrets":[],"pullPolicy":"IfNotPresent","registry":"docker.io","repository":"nginx","tag":"latest"}` | Docker image to use in the microservice |
| image.tag | string | `"latest"` | tag has preference over appVersion, so do not fill it unless you are sure. |
| ingress | object | `{"annotations":{},"enabled":false,"hosts":["chart-example.local"],"labels":{},"path":"/","pathType":"Prefix","tls":[]}` | Needed only for automatic TLS certificate generation. WORK IN PROGRESS |
| ingress.enabled | bool | `false` | Set to true to enable ingress record generation |
| initContainers | object | `{"enabled":false}` | Add init containers |
| jobs | list | `[]` | Jobs & Cronjobs |
| lifecycle | object | `{}` | Add lifecycle policies |
| liveness | object | `{}` |  |
| metrics | object | `{"enabled":false,"spec":{"honorLabels":true,"interval":"10s","path":"/metrics","port":"http-main","releaseLabel":"monitoring"}}` | Add ServiceMonitor for prometheus scraping |
| nameOverride | string | `nil` | This will be prefixed with Release name |
| namespaceOverride | string | `nil` |  |
| nodeSelector | object | `{}` | Node labels for pod assignment |
| pdb | object | `{"enabled":false}` | Pod Disruption Budget |
| ports | list | `[]` | Custom ports to add to the microservice |
| rbac.enabled | bool | `false` |  |
| rbac.spec | string | `nil` |  |
| readiness | object | `{}` |  |
| resources.limits | object | `{}` |  |
| resources.requests | object | `{}` |  |
| secrets | list | `[]` | Secrets for the microservice. Important: if the key has the suffix: ".crt" ".key" or ".pem" you MUST encode the value in base64 |
| securityContext | object | `{"enabled":false,"spec":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"runAsNonRoot":true,"seccompProfile":{"type":"RuntimeDefault"}}}` | SecurityContext attached to the main container |
| service | object | `{"ports":[{"name":"http-main","port":80,"protocol":"TCP","targetPort":80}],"type":"ClusterIP"}` | Configure the service |
| serviceAccount | object | `{"enabled":false}` | Pod ServiceAccount |
| sidecar | object | `{"enabled":false}` | Add a sidecar to the main pod |
| tolerations | list | `[]` | Tolerations for pod assignment |
| topologySpreadConstraints | list | `[{"labelSelector":{"matchLabels":{"app.kubernetes.io/component":"{{ .Chart.Name }}","app.kubernetes.io/instance":"{{ .Release.Name }}","app.kubernetes.io/name":"{{ include \"microservice.fullname\" . }}"}},"maxSkew":1,"topologyKey":"kubernetes.io/hostname","whenUnsatisfiable":"DoNotSchedule"}]` | Topology Spread Constraints for pod assignment spread across your cluster among failure-domains. Evaluated as a template |
| virtualServices | string | `nil` | Enable Istio VirtualService |
| volumeMounts | list | `[]` | volumeMounts allows you to mount other volumes on pod |
| volumes | list | `[]` | volumes allows you to mount other volumes see https://kubernetes.io/docs/concepts/storage/volumes |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
